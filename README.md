CLI Link Shortener (Java 17)

Консольный сервис для сокращения ссылок с возможностью управления лимитом переходов и временем жизни ссылки. Сервис позволяет пользователю создавать короткие ссылки для длинных URL, ограничивать количество переходов по каждой ссылке, устанавливать время жизни ссылки (TTL), просматривать все свои ссылки, редактировать лимит переходов и TTL для своих ссылок, автоматически удалять просроченные ссылки и получать уведомления о недоступности ссылки (истёк TTL или исчерпан лимит переходов). Каждый пользователь идентифицируется UUID, который генерируется при первой созданной ссылке.

Установка и запуск:

1. Распакуйте ZIP с проектом и откройте его в IntelliJ IDEA.
2. Установите JDK 17 (Project SDK) и убедитесь, что Maven использует JDK 17.
3. Соберите проект: через IntelliJ: Build → Build Project; через Maven: mvn compile
4. Запустите CLI: через IntelliJ: запустите класс cli.MainCLI; через терминал, если собран JAR: java -cp target/link-shortener-console-1.0-SNAPSHOT.jar cli.MainCLI
5. Запустите тесты: mvn test или через IntelliJ → Run All Tests

Команды CLI:

1 - Создать ссылку
2 - Перейти по ссылке (показывает клики и TTL)
3 - Показать все свои ссылки
4 - Очистка просроченных ссылок
5 - Редактировать ссылку (лимит и TTL)
6 - Help
0 - Выход

Создание ссылки: Введите длинный URL (должен начинаться с http:// или https://), введите лимит переходов (целое число > 0), введите время жизни ссылки в часах (например, 0.0083 ≈ 30 секунд). После создания ссылка будет отображена с вашим UUID.

Переход по ссылке: Введите короткую ссылку, чтобы перейти на исходный URL. После перехода отображается количество кликов и оставшееся время жизни ссылки.

Просмотр своих ссылок: Показываются все ссылки пользователя с информацией: короткая ссылка → исходный URL, количество кликов / лимит, время истечения ссылки.

Очистка просроченных ссылок: Удаляются все ссылки, срок действия которых истёк.

Редактирование ссылки: Можно изменить лимит переходов и TTL только для своих ссылок. Нужно ввести короткую ссылку, новый лимит и новое TTL (в часах).

Help: Отображает справку по всем командам.

Примеры:

Создание ссылки:
Введите длинный URL: https://example.com
Введите лимит переходов (целое число > 0): 2
Введите время жизни ссылки в часах (например, 0.01 ≈ 36 сек): 0.0083
Ссылка создана!
Короткая ссылка: http://clck.ru/abc123
Ваш UUID: 123e4567-e89b-12d3-a456-426614174000

Переход по ссылке:
Введите короткую ссылку для перехода: http://clck.ru/abc123
Переход на: https://example.com | Переходов: 1/2 | Истекает: 2025-11-08 11:23:24

Архитектура:

- cli — консольный интерфейс
- service — логика работы со ссылками (LinkService)
- storage — хранилище ссылок (InMemoryStorage)
- domain — доменные классы (ShortLink)
- util — утилиты (проверка URL и др.)

Тестирование:

Unit-тесты находятся в папке tests. Проверяют создание и получение ссылок, переходы по ссылке, ограничение лимита переходов, истечение TTL и очистку ссылок, редактирование лимита и TTL. Запуск тестов: mvn test

Примечания:

- TTL указывается в часах, для 30 секунд: 0.0083.
- Лимит переходов и TTL редактируются только владельцем ссылки (UUID).
- Программа выводит уведомления о недоступных ссылках.
- Проект полностью совместим с Java 17 и Maven.